<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>After School Club</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      background-color: #3b3b3b;
      color: #ffffff;
    }
  </style>
</head>
<body>
  <div id="app">
    <header>
      <h1>{{ sitename }}</h1>
      <input type="text" v-model="searchQuery" placeholder="Search lessons..." />
      <span>Total: ${{ cartTotal }}</span>
      <button v-on:click="showCheckout" :disabled="cart.length === 0">
        {{ cartItemCount }} <span class="fas fa-cart-plus"></span> Checkout
      </button>
    </header>
  </div>

  <main class="lesson-container">
    <div v-for="lesson in filteredLessons" :key="lesson.id" class="lesson-info">
      <figure class="lesson-image">
        <img :src="lesson.image" :alt="lesson.subject" />
      </figure>
      <div class="lesson-details">
        <h2>{{ lesson.subject }}</h2>
        <p>{{ lesson.location }}</p>
        <p>Price: ${{ lesson.price }}</p>
        <p>Available spaces: {{ lesson.availableInventory }}</p>
        <button v-on:click="addToCart(lesson)" :disabled="lesson.availableInventory === 0">
          Add to cart
        </button>
      </div>
    </div>
  </main>
  










  <script>
    new Vue({
      el: '#app',
      data: {
        sitename: "After School Club",
        showProduct: true,
        order: {
          firstName: '',
          lastName: '',
          phone: ''
        },
        lessons: [
          { id: 1, subject: "Maths", location: "London", price: 130, image: "assets/maths.jpg", availableInventory: 12 },
          { id: 2, subject: "Biology", location: "New York", price: 220, image: "assets/bio.jpg", availableInventory: 24 },
          { id: 3, subject: "History", location: "Paris", price: 99, image: "assets/history.jpg", availableInventory: 35 },
          { id: 4, subject: "Music", location: "Columbia", price: 75, image: "assets/music.jpg", availableInventory: 18 },
          { id: 5, subject: "Art & Craft", location: "Sydney", price: 125, image: "assets/art.jpg", availableInventory: 10 },
          { id: 6, subject: "IT", location: "San Francisco", price: 49, image: "assets/it.jpg", availableInventory: 11 },
          { id: 7, subject: "English", location: "Chicago", price: 64, image: "assets/english.jpg", availableInventory: 20 },
          { id: 8, subject: "Physics", location: "Berlin", price: 149, image: "assets/physics.jpg", availableInventory: 23 },
          { id: 9, subject: "Chemistry", location: "Tokyo", price: 170, image: "assets/chemistry.jpg", availableInventory: 17 },
          { id: 10, subject: "Accounts", location: "Los Angeles", price: 125, image: "assets/accounts.jpg", availableInventory: 30 }
        ],
        cart: [],
        searchQuery: '',
        sortAttribute: '',
        sortOrder: 'asc'
      },

      methods: {
  addToCart(lesson) {
    if (lesson.availableInventory > 0) {
      this.cart.push({ id: lesson.id, subject: lesson.subject, price: lesson.price });
      lesson.availableInventory--;
    }
  },
  removeFromCart(item) {
    const lesson = this.lessons.find(lesson => lesson.id === item.id);
    if (lesson) lesson.availableInventory++;
    this.cart = this.cart.filter(cartItem => cartItem.id !== item.id);
  },
  showCheckout() {
          this.showProduct = !this.showProduct;
        },

  placeOrder() {
    if (this.canPlaceOrder) {
      alert("Order placed successfully!");
      this.resetOrder();
    }
  },
  resetOrder() {
    this.order = { firstName: '', lastName: '', phone: '' };
    this.cart = [];
    this.showProduct = true;
  }

},


computed: {
  cartTotal() {
    return this.cart.reduce((total, item) => total + item.price, 0);
  },
  cartItemCount() {
    return this.cart.length;
  },
  filteredLessons() {
    let lessons = this.lessons.filter(lesson => {
      return (
        lesson.subject.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
        lesson.location.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
        lesson.price.toString().includes(this.searchQuery) ||
        lesson.availableInventory.toString().includes(this.searchQuery)
      );
    });
    if (this.sortAttribute) {
      lessons.sort((a, b) => {
        let modifier = this.sortOrder === 'asc' ? 1 : -1;
        if (a[this.sortAttribute] < b[this.sortAttribute]) return -1 * modifier;
        if (a[this.sortAttribute] > b[this.sortAttribute]) return 1 * modifier;
        return 0;
      });
    }
    return lessons;
  }
}





    });
    </script>
    








</body>
</html>
